<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JAMB Mastermind 3000+ - Premium Only Platform</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Paystack Inline JS -->
    <script src="https://js.paystack.co/v1/inline.js"></script>
    <style>
        /* =============== ALL STYLES FROM PREVIOUS VERSION =============== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Navigation */
        .navbar {
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .navbar .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo i {
            font-size: 2rem;
            color: #004a99;
        }

        .logo-text {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .logo-text span {
            color: #004a99;
        }

        .nav-links {
            display: flex;
            align-items: center;
            gap: 30px;
        }

        .nav-links a {
            font-weight: 500;
            transition: color 0.3s;
            cursor: pointer;
        }

        .nav-links a:hover {
            color: #004a99;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 12px 30px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s;
            cursor: pointer;
            border: none;
        }

        .btn-sm {
            padding: 8px 20px;
            font-size: 0.9rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, #004a99, #00a859);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,74,153,0.3);
        }

        .btn-premium {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: white;
            padding: 80px 0;
        }

        .hero .container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
            align-items: center;
        }

        .hero-content h1 {
            font-size: 3.5rem;
            line-height: 1.2;
            margin-bottom: 20px;
        }

        .hero-stats {
            display: flex;
            gap: 30px;
            margin-top: 40px;
        }

        .hero-stat .number {
            font-size: 2rem;
            font-weight: 700;
        }

        /* Features */
        .features {
            padding: 80px 0;
            background: white;
        }

        .section-header {
            text-align: center;
            max-width: 700px;
            margin: 0 auto 60px;
        }

        .section-header h2 {
            font-size: 2.5rem;
            color: #004a99;
            margin-bottom: 20px;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 30px;
        }

        .feature-card {
            text-align: center;
            padding: 40px 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .feature-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #004a99, #00a859);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 25px;
            color: white;
            font-size: 2rem;
        }

        /* App Container */
        .app-container {
            max-width: 1200px;
            margin: 40px auto;
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            display: none;
        }

        .app-container.active {
            display: block;
        }

        /* App Header */
        .app-header {
            background: linear-gradient(135deg, #004a99, #00a859);
            color: white;
            padding: 20px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 15px;
            background: rgba(255,255,255,0.2);
            padding: 10px 20px;
            border-radius: 40px;
            cursor: pointer;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #004a99;
        }

        .plan-badge {
            background: #FFD700;
            color: #2d3436;
            padding: 3px 10px;
            border-radius: 20px;
            font-size: 0.7rem;
            font-weight: bold;
            margin-left: 10px;
        }

        /* App Navigation */
        .app-nav {
            display: flex;
            background: white;
            padding: 0 30px;
            border-bottom: 2px solid #f0f0f0;
            gap: 20px;
            flex-wrap: wrap;
        }

        .app-nav-btn {
            padding: 15px 25px;
            border: none;
            background: none;
            font-weight: 600;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }

        .app-nav-btn.active {
            border-bottom-color: #004a99;
            color: #004a99;
        }

        /* App Content */
        .app-content {
            padding: 30px;
            min-height: 600px;
        }

        /* Subject Grid - ALL SUBJECTS LOCKED FOR FREE USERS */
        .subjects-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin: 30px 0;
        }

        .subject-card {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 15px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s;
            border-left: 6px solid #004a99;
            position: relative;
        }

        .subject-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,74,153,0.2);
        }

        .subject-card h3 {
            color: #004a99;
            margin-bottom: 10px;
        }

        .subject-card .count {
            display: inline-block;
            background: #004a99;
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            margin-top: 10px;
        }

        .lock-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #FFD700;
            color: #2d3436;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin: 30px 0;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .stat-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #004a99, #00a859);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
        }

        .stat-info h3 {
            font-size: 1.8rem;
            color: #004a99;
        }

        /* Pricing Plans */
        .pricing-section {
            padding: 60px 0;
            background: #f8f9fa;
        }

        .plans-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
            margin-top: 40px;
        }

        .plan-card {
            background: white;
            border-radius: 20px;
            padding: 40px 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            position: relative;
            border: 2px solid transparent;
            transition: all 0.3s;
        }

        .plan-card:hover {
            transform: translateY(-10px);
            border-color: #004a99;
        }

        .plan-card.popular {
            border: 2px solid #FFD700;
            transform: scale(1.05);
        }

        .popular-badge {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            background: #FFD700;
            color: #2d3436;
            padding: 8px 25px;
            border-radius: 25px;
            font-weight: bold;
        }

        .plan-name {
            font-size: 1.8rem;
            font-weight: bold;
            color: #004a99;
            margin-bottom: 15px;
        }

        .plan-price {
            font-size: 3rem;
            font-weight: bold;
            color: #2d3436;
            margin-bottom: 20px;
        }

        .plan-price span {
            font-size: 1rem;
            color: #666;
        }

        .plan-features {
            list-style: none;
            margin: 30px 0;
        }

        .plan-features li {
            padding: 10px 0;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .plan-features li i {
            color: #28a745;
        }

        /* Quiz Area */
        .quiz-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .quiz-header {
            background: linear-gradient(135deg, #004a99, #00a859);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .quiz-timer {
            background: rgba(255,255,255,0.2);
            padding: 10px 20px;
            border-radius: 40px;
            font-family: monospace;
            font-size: 1.5rem;
        }

        .question-box {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.05);
            margin-bottom: 25px;
        }

        .question-text {
            font-size: 1.3rem;
            margin-bottom: 30px;
        }

        .options-list {
            display: grid;
            gap: 15px;
        }

        .option-item {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 15px 20px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .option-item:hover {
            border-color: #004a99;
        }

        .option-item.selected {
            border-color: #004a99;
            background: rgba(0,74,153,0.05);
        }

        .option-letter {
            width: 35px;
            height: 35px;
            background: #f8f9fa;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #004a99;
        }

        .option-item.selected .option-letter {
            background: #004a99;
            color: white;
        }

        .progress-bar {
            height: 10px;
            background: #e9ecef;
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, #004a99, #00a859);
            transition: width 0.3s;
        }

        /* Admin Dashboard */
        .admin-section {
            background: #f8f9fa;
            padding: 40px;
            border-radius: 20px;
        }

        .admin-header {
            background: linear-gradient(135deg, #004a99, #00a859);
            color: white;
            padding: 40px;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .admin-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .admin-stat-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            gap: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .admin-tabs {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
            border-bottom: 2px solid #dee2e6;
            padding-bottom: 15px;
        }

        .admin-tab {
            padding: 10px 25px;
            border: none;
            background: none;
            font-weight: 600;
            cursor: pointer;
            border-radius: 30px;
        }

        .admin-tab.active {
            background: #004a99;
            color: white;
        }

        .admin-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 12px;
            overflow: hidden;
        }

        .admin-table th,
        .admin-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #dee2e6;
        }

        .admin-table th {
            background: #f8f9fa;
        }

        .status-badge {
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .status-active {
            background: #d4edda;
            color: #155724;
        }

        .status-expired {
            background: #f8d7da;
            color: #721c24;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 10000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .modal-content {
            background: white;
            width: 100%;
            max-width: 500px;
            border-radius: 20px;
            overflow: hidden;
        }

        .modal-header {
            background: linear-gradient(135deg, #004a99, #00a859);
            color: white;
            padding: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-close {
            background: none;
            border: none;
            color: white;
            font-size: 2rem;
            cursor: pointer;
        }

        .modal-body {
            padding: 40px;
        }

        .hidden {
            display: none;
        }

        .footer {
            background: #1a1a1a;
            color: white;
            padding: 60px 0 30px;
            margin-top: 60px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1.5fr;
            gap: 40px;
            margin-bottom: 40px;
        }

        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .social-links a {
            width: 40px;
            height: 40px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .social-links a:hover {
            background: #004a99;
        }

        .footer-bottom {
            border-top: 1px solid rgba(255,255,255,0.1);
            padding-top: 30px;
            text-align: center;
            color: #999;
        }

        @media (max-width: 768px) {
            .hero .container,
            .features-grid,
            .subjects-grid,
            .stats-grid,
            .plans-grid,
            .admin-stats,
            .footer-content {
                grid-template-columns: 1fr !important;
            }
            
            .nav-links {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Marketing Website Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="logo">
                <i class="fas fa-brain"></i>
                <div class="logo-text">JAMB <span>Mastermind</span></div>
            </div>
            <div class="nav-links">
                <a onclick="showMarketingSection('home')">Home</a>
                <a onclick="showMarketingSection('features')">Features</a>
                <a onclick="showMarketingSection('pricing')">Pricing</a>
                <a onclick="showMarketingSection('testimonials')">Success Stories</a>
                <a onclick="openLoginModal()">Login</a>
                <a onclick="openRegisterModal()" class="btn btn-sm btn-primary">Get Started</a>
            </div>
        </div>
    </nav>

    <!-- Marketing Website Sections -->
    <div id="marketing-site">
        <!-- Hero Section -->
        <section id="home" class="hero">
            <div class="container">
                <div class="hero-content">
                    <h1>Master JAMB with 4,000+ Premium Questions</h1>
                    <p>Join over 50,000 Nigerian students who have improved their scores with our comprehensive preparation platform across <strong>8 subjects</strong>.</p>
                    <div>
                        <a onclick="openRegisterModal()" class="btn btn-primary btn-lg">
                            <i class="fas fa-rocket"></i> Start Free Trial
                        </a>
                    </div>
                    <div class="hero-stats">
                        <div class="hero-stat">
                            <span class="number">50K+</span>
                            <span class="label">Active Students</span>
                        </div>
                        <div class="hero-stat">
                            <span class="number">4,000+</span>
                            <span class="label">Practice Questions</span>
                        </div>
                        <div class="hero-stat">
                            <span class="number">8</span>
                            <span class="label">Core Subjects</span>
                        </div>
                    </div>
                </div>
                <div class="hero-image">
                    <img src="https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Students studying" style="width:100%; border-radius:20px;">
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section id="features" class="features">
            <div class="container">
                <div class="section-header">
                    <h2>Everything You Need to Ace JAMB</h2>
                    <p>Our comprehensive platform provides all the tools and resources you need for effective preparation across <strong>8 subjects</strong>.</p>
                </div>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon"><i class="fas fa-question-circle"></i></div>
                        <h3>4,000+ Questions</h3>
                        <p>Extensive question bank covering all 8 JAMB subjects with detailed explanations.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon"><i class="fas fa-clock"></i></div>
                        <h3>Mock Exams</h3>
                        <p>Full-length timed tests that simulate the real JAMB examination experience.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon"><i class="fas fa-chart-line"></i></div>
                        <h3>Performance Analytics</h3>
                        <p>Track your progress and identify weak areas with detailed insights per subject.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon"><i class="fas fa-mobile-alt"></i></div>
                        <h3>Study Anywhere</h3>
                        <p>Access your study materials on web, tablet, or mobile devices.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Pricing Section -->
        <section id="pricing" class="pricing-section">
            <div class="container">
                <div class="section-header">
                    <h2>Simple, Transparent Pricing</h2>
                    <p>Choose the plan that works best for your preparation needs. <strong>All 8 subjects are premium</strong>.</p>
                </div>
                <div class="plans-grid" id="marketing-plans"></div>
            </div>
        </section>

        <!-- Testimonials -->
        <section id="testimonials" style="padding: 80px 0; background: white;">
            <div class="container">
                <div class="section-header">
                    <h2>Success Stories</h2>
                    <p>Hear from students who achieved their dream scores with JAMB Mastermind.</p>
                </div>
                <div style="display: grid; grid-template-columns: repeat(3,1fr); gap:30px;">
                    <div style="background:#f8f9fa; padding:30px; border-radius:20px;">
                        <i class="fas fa-star" style="color:#FFD700;"></i><i class="fas fa-star" style="color:#FFD700;"></i><i class="fas fa-star" style="color:#FFD700;"></i><i class="fas fa-star" style="color:#FFD700;"></i><i class="fas fa-star" style="color:#FFD700;"></i>
                        <p style="margin:20px 0;">"JAMB Mastermind helped me improve from 210 to 287 in just 3 months. The Physics and Chemistry questions were exactly what I needed!"</p>
                        <p><strong>Oluwaseun A.</strong> - Medicine, UI</p>
                    </div>
                    <div style="background:#f8f9fa; padding:30px; border-radius:20px;">
                        <i class="fas fa-star" style="color:#FFD700;"></i><i class="fas fa-star" style="color:#FFD700;"></i><i class="fas fa-star" style="color:#FFD700;"></i><i class="fas fa-star" style="color:#FFD700;"></i><i class="fas fa-star" style="color:#FFD700;"></i>
                        <p style="margin:20px 0;">"The detailed explanations for Literature and Government helped me understand concepts I struggled with for years. Worth every naira!"</p>
                        <p><strong>Aisha B.</strong> - Law, UNILAG</p>
                    </div>
                    <div style="background:#f8f9fa; padding:30px; border-radius:20px;">
                        <i class="fas fa-star" style="color:#FFD700;"></i><i class="fas fa-star" style="color:#FFD700;"></i><i class="fas fa-star" style="color:#FFD700;"></i><i class="fas fa-star" style="color:#FFD700;"></i><i class="fas fa-star" style="color:#FFD700;"></i>
                        <p style="margin:20px 0;">"Best investment for my education. The Mathematics and Economics analytics helped me focus on my weak areas. Scored 298 in my JAMB!"</p>
                        <p><strong>Chidi O.</strong> - Economics, UNN</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Call to Action -->
        <section style="padding: 80px 0; background: linear-gradient(135deg, #004a99, #00a859); color: white; text-align: center;">
            <div class="container">
                <h2 style="font-size:2.5rem; margin-bottom:20px;">Ready to Ace Your JAMB?</h2>
                <p style="font-size:1.2rem; margin-bottom:30px;">Join over 50,000 Nigerian students already preparing with JAMB Mastermind across <strong>8 premium subjects</strong>.</p>
                <a onclick="openRegisterModal()" class="btn btn-primary btn-lg" style="background:white; color:#004a99;">Start Free Trial</a>
            </div>
        </section>
    </div>

    <!-- App Container -->
    <div id="app-container" class="app-container">
        <div class="app-header">
            <div class="logo">
                <i class="fas fa-brain"></i>
                <div>
                    <h1>JAMB Mastermind</h1>
                    <p><strong>8 Premium Subjects</strong> • 4,000+ Questions</p>
                </div>
            </div>
            <div class="user-profile" onclick="toggleUserMenu()">
                <div class="user-avatar">
                    <i class="fas fa-user-graduate"></i>
                </div>
                <span id="displayName">Student</span>
                <span class="plan-badge" id="displayPlan">TRIAL</span>
                <i class="fas fa-chevron-down"></i>
            </div>
        </div>

        <div class="app-nav">
            <button class="app-nav-btn active" onclick="showAppSection('subjects')">Subjects</button>
            <button class="app-nav-btn" onclick="showAppSection('practice')">Practice</button>
            <button class="app-nav-btn" onclick="showAppSection('analytics')">Analytics</button>
            <button class="app-nav-btn" onclick="showAppSection('billing')">Billing</button>
            <button class="app-nav-btn" onclick="showAppSection('admin')" id="adminNavBtn" style="display:none;">Admin</button>
        </div>

        <div class="app-content">
            <!-- Subjects Section - ALL SUBJECTS LOCKED FOR FREE USERS -->
            <div id="app-subjects">
                <h2 style="color:#004a99; margin-bottom:20px;">Select a Subject to Practice</h2>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-question"></i></div>
                        <div class="stat-info">
                            <h3 id="totalQuestions">4,000+</h3>
                            <p>Total Questions</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-check"></i></div>
                        <div class="stat-info">
                            <h3 id="userAccuracy">0%</h3>
                            <p>Your Accuracy</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-clock"></i></div>
                        <div class="stat-info">
                            <h3 id="userStudied">0</h3>
                            <p>Questions Done</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-fire"></i></div>
                        <div class="stat-info">
                            <h3 id="userStreak">3</h3>
                            <p>Day Streak</p>
                        </div>
                    </div>
                </div>

                <!-- ALL 8 SUBJECTS - ALL LOCKED FOR FREE USERS -->
                <div class="subjects-grid" id="subjectsGrid">
                    <!-- Dynamically loaded via JavaScript - all locked -->
                </div>
                
                <!-- Upgrade Banner for Free Users -->
                <div id="upgradeBanner" style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 30px; border-radius: 15px; margin-top: 30px; text-align: center;">
                    <i class="fas fa-crown" style="font-size: 3rem; margin-bottom: 15px;"></i>
                    <h3 style="margin-bottom: 15px;">Unlock All 8 Subjects</h3>
                    <p style="margin-bottom: 20px;">Get access to 4,000+ questions, detailed explanations, and mock exams</p>
                    <button onclick="showAppSection('billing')" class="btn btn-primary" style="background: white; color: #004a99; font-weight: bold;">
                        <i class="fas fa-rocket"></i> Upgrade Now
                    </button>
                </div>
            </div>

            <!-- Practice Section -->
            <div id="app-practice" class="hidden">
                <div class="quiz-container">
                    <div class="quiz-header">
                        <div>
                            <h2 id="quizSubject">English Language</h2>
                            <p id="questionCount">Question 1/20</p>
                        </div>
                        <div class="quiz-timer" id="timer">00:00</div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="quizProgress" style="width:0%"></div>
                    </div>
                    <div class="question-box" id="questionBox"></div>
                    <div class="quiz-controls">
                        <button class="btn btn-secondary" onclick="prevQuestion()" id="prevBtn">← Previous</button>
                        <button class="btn btn-primary" onclick="nextQuestion()" id="nextBtn">Next →</button>
                    </div>
                    <button class="btn btn-secondary" style="width:100%; margin-top:15px;" onclick="endQuiz()">End Practice</button>
                </div>
            </div>

            <!-- Analytics Section -->
            <div id="app-analytics" class="hidden">
                <h2 style="color:#004a99;">Your Performance Analytics</h2>
                <div id="analyticsContent" style="margin-top:30px;"></div>
            </div>

            <!-- Billing Section -->
            <div id="app-billing" class="hidden">
                <h2 style="color:#004a99;">Subscription Management</h2>
                <div id="billingContent" style="margin-top:30px;"></div>
            </div>

            <!-- Admin Section -->
            <div id="app-admin" class="hidden">
                <div class="admin-section">
                    <div class="admin-header">
                        <h2><i class="fas fa-cog"></i> Admin Dashboard</h2>
                        <p>Manage users, subscriptions, and platform analytics for <strong>8 premium subjects</strong></p>
                    </div>
                    <div class="admin-stats" id="adminStats"></div>
                    <div class="admin-tabs">
                        <button class="admin-tab active" onclick="switchAdminTab('users')">Users</button>
                        <button class="admin-tab" onclick="switchAdminTab('subscriptions')">Subscriptions</button>
                        <button class="admin-tab" onclick="switchAdminTab('transactions')">Transactions</button>
                    </div>
                    <div id="adminContent"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div>
                    <div class="logo" style="margin-bottom:20px;">
                        <i class="fas fa-brain" style="color:white;"></i>
                        <span style="color:white; font-size:1.5rem; font-weight:700;">JAMB Mastermind</span>
                    </div>
                    <p style="color:#999;">The most comprehensive JAMB preparation platform trusted by over 50,000 Nigerian students. <strong>8 premium subjects • 4,000+ questions</strong></p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                <div>
                    <h4 style="color:white; margin-bottom:20px;">Quick Links</h4>
                    <ul style="list-style:none;">
                        <li style="margin-bottom:10px;"><a href="#" style="color:#999;">Home</a></li>
                        <li style="margin-bottom:10px;"><a href="#" style="color:#999;">Features</a></li>
                        <li style="margin-bottom:10px;"><a href="#" style="color:#999;">Pricing</a></li>
                    </ul>
                </div>
                <div>
                    <h4 style="color:white; margin-bottom:20px;">8 Premium Subjects</h4>
                    <ul style="list-style:none; columns:2;">
                        <li style="margin-bottom:10px;"><a href="#" style="color:#999;">English</a></li>
                        <li style="margin-bottom:10px;"><a href="#" style="color:#999;">Math</a></li>
                        <li style="margin-bottom:10px;"><a href="#" style="color:#999;">Physics</a></li>
                        <li style="margin-bottom:10px;"><a href="#" style="color:#999;">Chemistry</a></li>
                        <li style="margin-bottom:10px;"><a href="#" style="color:#999;">Biology</a></li>
                        <li style="margin-bottom:10px;"><a href="#" style="color:#999;">Government</a></li>
                        <li style="margin-bottom:10px;"><a href="#" style="color:#999;">Economics</a></li>
                        <li style="margin-bottom:10px;"><a href="#" style="color:#999;">Literature</a></li>
                    </ul>
                </div>
                <div>
                    <h4 style="color:white; margin-bottom:20px;">Newsletter</h4>
                    <p style="color:#999;">Subscribe for study tips and updates</p>
                    <input type="email" placeholder="Your email" style="padding:10px; width:100%; border-radius:5px; border:none;">
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 JAMB Mastermind 3000+. All rights reserved. <strong>8 Premium Subjects • 4,000+ Questions • 50K+ Students</strong></p>
            </div>
        </div>
    </footer>

    <!-- Login Modal -->
    <div id="login-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-sign-in-alt"></i> Welcome Back</h3>
                <button class="modal-close" onclick="closeLoginModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form onsubmit="handleLogin(event)">
                    <input type="email" placeholder="Email" style="width:100%; padding:15px; margin-bottom:15px; border:2px solid #eee; border-radius:10px;" required>
                    <input type="password" placeholder="Password" style="width:100%; padding:15px; margin-bottom:25px; border:2px solid #eee; border-radius:10px;" required>
                    <button type="submit" class="btn btn-primary btn-block">Login</button>
                    <p style="text-align:center; margin-top:15px;">
                        Don't have an account? <a href="#" onclick="switchToRegister()">Sign up</a>
                    </p>
                </form>
            </div>
        </div>
    </div>

    <!-- Register Modal -->
    <div id="register-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-user-plus"></i> Create Account</h3>
                <button class="modal-close" onclick="closeRegisterModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form onsubmit="handleRegister(event)">
                    <input type="text" placeholder="Full Name" style="width:100%; padding:15px; margin-bottom:15px; border:2px solid #eee; border-radius:10px;" required>
                    <input type="email" placeholder="Email" style="width:100%; padding:15px; margin-bottom:15px; border:2px solid #eee; border-radius:10px;" required>
                    <input type="password" placeholder="Password" style="width:100%; padding:15px; margin-bottom:25px; border:2px solid #eee; border-radius:10px;" required>
                    <button type="submit" class="btn btn-primary btn-block">Start Free Trial</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Payment Modal -->
    <div id="payment-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-credit-card"></i> Complete Payment</h3>
                <button class="modal-close" onclick="closePaymentModal()">&times;</button>
            </div>
            <div class="modal-body" id="paymentModalBody"></div>
        </div>
    </div>

    <script>
        // =============== PAYSTACK CONFIG ===============
        const PAYSTACK_PUBLIC_KEY = 'pk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'; // REPLACE WITH YOUR KEY

        // =============== PLANS ===============
        const PLANS = {
            basic: {
                name: 'Basic Plan',
                price: 2500,
                period: 'month',
                features: ['500 practice questions', 'Basic analytics', 'Email support', '4 subjects access'],
                icon: 'fa-book'
            },
            pro: {
                name: 'Pro Plan',
                price: 5000,
                period: 'month',
                features: ['2,000+ questions', 'Advanced analytics', 'Mock exams', 'Priority support', 'ALL 8 subjects'],
                icon: 'fa-crown',
                popular: true
            },
            premium: {
                name: 'Premium Plan',
                price: 10000,
                period: 'month',
                features: ['4,000+ questions', 'AI recommendations', '1-on-1 tutoring', 'Offline access', 'Certificate', 'ALL 8 subjects + bonus'],
                icon: 'fa-gem'
            }
        };

        // =============== QUESTION DATABASE - 500+ PER SUBJECT ===============
        const QUESTION_DATABASE = {
            english: [],
            mathematics: [],
            physics: [],
            chemistry: [],
            biology: [],
            government: [],
            economics: [],
            literature: []
        };

        // Generate 500 questions for each subject
        const subjects = ['english', 'mathematics', 'physics', 'chemistry', 'biology', 'government', 'economics', 'literature'];
        const subjectNames = {
            english: 'English Language',
            mathematics: 'Mathematics',
            physics: 'Physics',
            chemistry: 'Chemistry',
            biology: 'Biology',
            government: 'Government',
            economics: 'Economics',
            literature: 'Literature'
        };

        const topics = {
            english: ['Comprehension', 'Grammar', 'Vocabulary', 'Oral English', 'Literature'],
            mathematics: ['Algebra', 'Geometry', 'Calculus', 'Statistics', 'Trigonometry'],
            physics: ['Mechanics', 'Waves', 'Electricity', 'Thermodynamics', 'Modern Physics'],
            chemistry: ['Organic', 'Inorganic', 'Physical', 'Analytical', 'Industrial'],
            biology: ['Genetics', 'Ecology', 'Physiology', 'Botany', 'Zoology'],
            government: ['Political Theory', 'Nigerian Government', 'Constitution', 'International', 'Administration'],
            economics: ['Microeconomics', 'Macroeconomics', 'Development', 'International', 'Mathematics'],
            literature: ['Prose', 'Poetry', 'Drama', 'Literary Devices', 'African Literature']
        };

        // Generate all questions
        subjects.forEach(subject => {
            for (let i = 1; i <= 500; i++) {
                const topicIndex = Math.floor((i-1) / 100) % 5;
                QUESTION_DATABASE[subject].push({
                    id: `${subject.substring(0,3).toUpperCase()}${String(i).padStart(3,'0')}`,
                    question: `${subjectNames[subject]} Question ${i}: Sample question about ${topics[subject][topicIndex]}`,
                    options: ['Option A', 'Option B', 'Option C', 'Option D'],
                    correct: Math.floor(Math.random() * 4),
                    explanation: `Explanation for ${subjectNames[subject]} question ${i}. The correct answer is based on ${topics[subject][topicIndex]} principles.`,
                    topic: topics[subject][topicIndex],
                    difficulty: i < 200 ? 'Easy' : i < 400 ? 'Medium' : 'Hard'
                });
            }
        });

        // =============== APP STATE ===============
        const APP_STATE = {
            currentUser: null,
            users: [
                {
                    id: 1,
                    name: 'Admin User',
                    email: 'admin@jambmastermind.com',
                    password: 'admin123',
                    plan: 'admin',
                    questionsAttempted: 0,
                    correctAnswers: 0,
                    totalScore: 0,
                    streak: 30,
                    joinDate: '2024-01-01'
                },
                {
                    id: 2,
                    name: 'Demo Student',
                    email: 'student@example.com',
                    password: 'student123',
                    plan: 'trial', // Changed from 'free' to 'trial'
                    questionsAttempted: 0,
                    correctAnswers: 0,
                    totalScore: 0,
                    streak: 1,
                    joinDate: '2024-02-15'
                }
            ],
            transactions: [
                { id: 'TXN001', user: 'John Doe', plan: 'Pro Plan', amount: 5000, date: '2024-03-01', status: 'success', reference: 'PAYSTACK_001' },
                { id: 'TXN002', user: 'Jane Smith', plan: 'Premium Plan', amount: 10000, date: '2024-03-02', status: 'success', reference: 'PAYSTACK_002' }
            ],
            subscriptions: [
                { id: 'SUB001', user: 'John Doe', plan: 'Pro Plan', start: '2024-03-01', end: '2024-04-01', status: 'active' },
                { id: 'SUB002', user: 'Jane Smith', plan: 'Premium Plan', start: '2024-03-02', end: '2024-04-02', status: 'active' }
            ],
            currentQuiz: {
                subject: null,
                questions: [],
                currentIndex: 0,
                answers: [],
                score: 0,
                startTime: null,
                timer: null
            }
        };

        // =============== MARKETING FUNCTIONS ===============
        function showMarketingSection(section) {
            document.getElementById(section).scrollIntoView({ behavior: 'smooth' });
        }

        function loadMarketingPlans() {
            const container = document.getElementById('marketing-plans');
            if (!container) return;
            
            container.innerHTML = Object.entries(PLANS).map(([key, plan]) => `
                <div class="plan-card ${plan.popular ? 'popular' : ''}">
                    ${plan.popular ? '<div class="popular-badge">MOST POPULAR</div>' : ''}
                    <div class="plan-name">${plan.name}</div>
                    <div class="plan-price">₦${plan.price.toLocaleString()}<span>/${plan.period}</span></div>
                    <ul class="plan-features">
                        ${plan.features.map(f => `<li><i class="fas fa-check-circle"></i> ${f}</li>`).join('')}
                    </ul>
                    <button onclick="openRegisterModal()" class="btn btn-primary" style="width:100%;">
                        <i class="fas fa-${plan.icon}"></i> Get Started
                    </button>
                </div>
            `).join('');
        }

        // =============== AUTH FUNCTIONS ===============
        function openLoginModal() {
            document.getElementById('login-modal').style.display = 'flex';
        }

        function closeLoginModal() {
            document.getElementById('login-modal').style.display = 'none';
        }

        function openRegisterModal() {
            document.getElementById('register-modal').style.display = 'flex';
        }

        function closeRegisterModal() {
            document.getElementById('register-modal').style.display = 'none';
        }

        function switchToRegister() {
            closeLoginModal();
            openRegisterModal();
        }

        function handleLogin(event) {
            event.preventDefault();
            const email = event.target[0].value;
            const password = event.target[1].value;
            
            const user = APP_STATE.users.find(u => u.email === email && u.password === password);
            
            if (user) {
                APP_STATE.currentUser = { ...user };
                localStorage.setItem('jambUser', JSON.stringify(APP_STATE.currentUser));
                
                document.getElementById('marketing-site').style.display = 'none';
                document.getElementById('app-container').classList.add('active');
                
                document.getElementById('displayName').textContent = user.name;
                document.getElementById('displayPlan').textContent = user.plan === 'admin' ? 'ADMIN' : user.plan.toUpperCase();
                
                if (user.plan === 'admin') {
                    document.getElementById('adminNavBtn').style.display = 'block';
                    loadAdminDashboard();
                }
                
                loadSubjects(); // Loads all 8 subjects (all locked for trial)
                updateUserStats();
                closeLoginModal();
                alert('Login successful! Welcome back.');
            } else {
                alert('Invalid credentials. Try admin@jambmastermind.com / admin123');
            }
        }

        function handleRegister(event) {
            event.preventDefault();
            const name = event.target[0].value;
            const email = event.target[1].value;
            
            const newUser = {
                id: APP_STATE.users.length + 1,
                name: name,
                email: email,
                plan: 'trial', // All new users start on trial
                questionsAttempted: 0,
                correctAnswers: 0,
                totalScore: 0,
                streak: 1,
                joinDate: new Date().toISOString().split('T')[0]
            };
            
            APP_STATE.users.push(newUser);
            APP_STATE.currentUser = newUser;
            localStorage.setItem('jambUser', JSON.stringify(newUser));
            
            document.getElementById('marketing-site').style.display = 'none';
            document.getElementById('app-container').classList.add('active');
            document.getElementById('displayName').textContent = name;
            document.getElementById('displayPlan').textContent = 'TRIAL';
            
            loadSubjects(); // Loads all 8 subjects (all locked)
            updateUserStats();
            closeRegisterModal();
            alert('Account created! Start your 7-day free trial.');
        }

        function logout() {
            APP_STATE.currentUser = null;
            localStorage.removeItem('jambUser');
            document.getElementById('marketing-site').style.display = 'block';
            document.getElementById('app-container').classList.remove('active');
            alert('Logged out successfully');
        }

        // =============== APP FUNCTIONS ===============
        function showAppSection(section) {
            document.querySelectorAll('.app-content > div').forEach(div => div.classList.add('hidden'));
            document.querySelectorAll('.app-nav-btn').forEach(btn => btn.classList.remove('active'));
            
            const target = event.target;
            target.classList.add('active');
            
            switch(section) {
                case 'subjects':
                    document.getElementById('app-subjects').classList.remove('hidden');
                    break;
                case 'practice':
                    document.getElementById('app-practice').classList.remove('hidden');
                    break;
                case 'analytics':
                    document.getElementById('app-analytics').classList.remove('hidden');
                    loadAnalytics();
                    break;
                case 'billing':
                    document.getElementById('app-billing').classList.remove('hidden');
                    loadBilling();
                    break;
                case 'admin':
                    document.getElementById('app-admin').classList.remove('hidden');
                    loadAdminDashboard();
                    break;
            }
        }

        // FIXED: ALL 8 SUBJECTS - ALL LOCKED FOR TRIAL USERS
        function loadSubjects() {
            const grid = document.getElementById('subjectsGrid');
            
            // Define all 8 subjects - ALL are premium (no free subjects)
            const allSubjects = [
                { key: 'english', name: 'English Language', icon: 'fa-language', color: '#e74c3c', count: 500 },
                { key: 'mathematics', name: 'Mathematics', icon: 'fa-calculator', color: '#3498db', count: 500 },
                { key: 'physics', name: 'Physics', icon: 'fa-atom', color: '#9b59b6', count: 500 },
                { key: 'chemistry', name: 'Chemistry', icon: 'fa-flask', color: '#2ecc71', count: 500 },
                { key: 'biology', name: 'Biology', icon: 'fa-dna', color: '#1abc9c', count: 500 },
                { key: 'government', name: 'Government', icon: 'fa-landmark', color: '#e67e22', count: 500 },
                { key: 'economics', name: 'Economics', icon: 'fa-chart-line', color: '#f1c40f', count: 500 },
                { key: 'literature', name: 'Literature in English', icon: 'fa-book', color: '#e84393', count: 500 }
            ];

            // Check if user has premium access (pro, premium, or admin)
            const hasPremium = APP_STATE.currentUser && 
                (APP_STATE.currentUser.plan === 'pro' || 
                 APP_STATE.currentUser.plan === 'premium' || 
                 APP_STATE.currentUser.plan === 'admin');

            // Generate HTML for all 8 subjects
            grid.innerHTML = allSubjects.map(subj => {
                // If user doesn't have premium, ALL subjects are locked
                const isLocked = !hasPremium;
                
                return `
                    <div class="subject-card" onclick="${isLocked ? 'showPaymentPrompt()' : 'startPractice(\'' + subj.key + '\')'}">
                        <i class="fas ${subj.icon}" style="font-size:2rem; color:${subj.color}; margin-bottom:15px;"></i>
                        <h3>${subj.name}</h3>
                        <p>${subj.count} questions</p>
                        <span class="count">${isLocked ? '🔒 PREMIUM' : 'Practice Now →'}</span>
                        ${isLocked ? '<div class="lock-badge">PREMIUM</div>' : ''}
                    </div>
                `;
            }).join('');

            // Show/hide upgrade banner based on premium status
            const banner = document.getElementById('upgradeBanner');
            if (banner) {
                banner.style.display = hasPremium ? 'none' : 'block';
            }

            // Update total questions count
            document.getElementById('totalQuestions').textContent = '4,000+';
        }

        function showPaymentPrompt() {
            if (confirm('All subjects are premium. Would you like to upgrade your plan to access all 8 subjects with 4,000+ questions?')) {
                showAppSection('billing');
                document.querySelectorAll('.app-nav-btn').forEach(btn => btn.classList.remove('active'));
                document.querySelector('[onclick="showAppSection(\'billing\')"]').classList.add('active');
            }
        }

        function startPractice(subject) {
            const allQuestions = QUESTION_DATABASE[subject];
            const shuffled = [...allQuestions].sort(() => Math.random() - 0.5);
            const selected = shuffled.slice(0, 20);
            
            APP_STATE.currentQuiz = {
                subject: subject,
                questions: selected,
                currentIndex: 0,
                answers: new Array(20).fill(null),
                score: 0,
                startTime: Date.now(),
                timer: setInterval(updateTimer, 1000)
            };

            document.getElementById('quizSubject').textContent = subjectNames[subject];
            document.getElementById('app-subjects').classList.add('hidden');
            document.getElementById('app-practice').classList.remove('hidden');
            
            loadQuestion();
        }

        function loadQuestion() {
            const quiz = APP_STATE.currentQuiz;
            const q = quiz.questions[quiz.currentIndex];
            
            document.getElementById('questionCount').textContent = 
                `Question ${quiz.currentIndex + 1}/${quiz.questions.length}`;
            
            const progress = ((quiz.currentIndex + 1) / quiz.questions.length) * 100;
            document.getElementById('quizProgress').style.width = progress + '%';

            const optionsHtml = q.options.map((opt, idx) => {
                const letter = String.fromCharCode(65 + idx);
                const selected = quiz.answers[quiz.currentIndex] === idx ? 'selected' : '';
                return `
                    <div class="option-item ${selected}" onclick="selectAnswer(${idx})">
                        <span class="option-letter">${letter}</span>
                        ${opt}
                    </div>
                `;
            }).join('');

            document.getElementById('questionBox').innerHTML = `
                <div class="question-text">${q.question}</div>
                <div class="options-list">${optionsHtml}</div>
            `;

            document.getElementById('prevBtn').disabled = quiz.currentIndex === 0;
            document.getElementById('nextBtn').innerHTML = 
                quiz.currentIndex === quiz.questions.length - 1 ? 'Finish ✓' : 'Next →';
        }

        function selectAnswer(idx) {
            APP_STATE.currentQuiz.answers[APP_STATE.currentQuiz.currentIndex] = idx;
            loadQuestion();
        }

        function nextQuestion() {
            const quiz = APP_STATE.currentQuiz;
            const answer = quiz.answers[quiz.currentIndex];
            
            if (answer === null) {
                alert('Please select an answer');
                return;
            }

            if (answer === quiz.questions[quiz.currentIndex].correct) {
                quiz.score++;
            }

            if (quiz.currentIndex === quiz.questions.length - 1) {
                finishQuiz();
            } else {
                quiz.currentIndex++;
                loadQuestion();
            }
        }

        function prevQuestion() {
            if (APP_STATE.currentQuiz.currentIndex > 0) {
                APP_STATE.currentQuiz.currentIndex--;
                loadQuestion();
            }
        }

        function updateTimer() {
            const quiz = APP_STATE.currentQuiz;
            if (quiz) {
                const elapsed = Math.floor((Date.now() - quiz.startTime) / 1000);
                const mins = Math.floor(elapsed / 60);
                const secs = elapsed % 60;
                document.getElementById('timer').textContent = 
                    `${mins.toString().padStart(2,'0')}:${secs.toString().padStart(2,'0')}`;
            }
        }

        function finishQuiz() {
            clearInterval(APP_STATE.currentQuiz.timer);
            
            const quiz = APP_STATE.currentQuiz;
            const correct = quiz.score;
            const total = quiz.questions.length;
            
            APP_STATE.currentUser.questionsAttempted += total;
            APP_STATE.currentUser.correctAnswers += correct;
            APP_STATE.currentUser.totalScore += correct * 10;
            
            updateUserStats();
            alert(`Quiz completed! You scored ${correct}/${total}`);
            
            document.getElementById('app-practice').classList.add('hidden');
            document.getElementById('app-subjects').classList.remove('hidden');
        }

        function endQuiz() {
            if (confirm('End practice?')) {
                clearInterval(APP_STATE.currentQuiz.timer);
                document.getElementById('app-practice').classList.add('hidden');
                document.getElementById('app-subjects').classList.remove('hidden');
            }
        }

        function updateUserStats() {
            const user = APP_STATE.currentUser;
            const accuracy = user.questionsAttempted > 0 
                ? Math.round((user.correctAnswers / user.questionsAttempted) * 100) 
                : 0;
            
            document.getElementById('userAccuracy').textContent = accuracy + '%';
            document.getElementById('userStudied').textContent = user.questionsAttempted;
            document.getElementById('userStreak').textContent = user.streak;
        }

        // =============== PAYMENT FUNCTIONS ===============
        function showPaymentModal(planKey) {
            const plan = PLANS[planKey];
            const modal = document.getElementById('payment-modal');
            const body = document.getElementById('paymentModalBody');
            
            body.innerHTML = `
                <div style="text-align:center;">
                    <i class="fas fa-crown" style="font-size:4rem; color:#FFD700;"></i>
                    <h3 style="margin:20px 0;">${plan.name}</h3>
                    <p style="font-size:2.5rem; font-weight:bold;">₦${plan.price}<span style="font-size:1rem;">/${plan.period}</span></p>
                    <ul style="text-align:left; margin:30px 0;">
                        ${plan.features.map(f => `<li style="margin:10px 0;"><i class="fas fa-check" style="color:#28a745;"></i> ${f}</li>`).join('')}
                    </ul>
                    <button onclick="processPayment('${planKey}')" class="btn btn-primary" style="width:100%; padding:15px;">
                        <i class="fas fa-lock"></i> Pay ₦${plan.price}
                    </button>
                </div>
            `;
            
            modal.style.display = 'flex';
        }

        function processPayment(planKey) {
            const plan = PLANS[planKey];
            const user = APP_STATE.currentUser;
            
            const handler = PaystackPop.setup({
                key: PAYSTACK_PUBLIC_KEY,
                email: user.email,
                amount: plan.price * 100,
                currency: 'NGN',
                ref: 'JAMB-' + Math.floor(Math.random() * 1000000000),
                callback: function(response) {
                    // Upgrade user to pro (or appropriate plan)
                    APP_STATE.currentUser.plan = planKey === 'premium' ? 'premium' : 'pro';
                    document.getElementById('displayPlan').textContent = APP_STATE.currentUser.plan.toUpperCase();
                    
                    APP_STATE.transactions.push({
                        id: 'TXN' + Date.now(),
                        user: user.name,
                        plan: plan.name,
                        amount: plan.price,
                        date: new Date().toISOString().split('T')[0],
                        status: 'success',
                        reference: response.reference
                    });
                    
                    closePaymentModal();
                    alert(`Payment successful! Now you have access to all 8 subjects with ${planKey === 'basic' ? '4 subjects' : 'all 4,000+ questions'}!`);
                    loadSubjects(); // Reload subjects (now unlocked)
                    
                    // Hide upgrade banner
                    document.getElementById('upgradeBanner').style.display = 'none';
                },
                onClose: function() {
                    alert('Payment cancelled');
                }
            });
            
            handler.openIframe();
        }

        function closePaymentModal() {
            document.getElementById('payment-modal').style.display = 'none';
        }

        // =============== BILLING FUNCTIONS ===============
        function loadBilling() {
            const user = APP_STATE.currentUser;
            
            document.getElementById('billingContent').innerHTML = `
                <div style="background:white; padding:30px; border-radius:15px;">
                    <h3 style="color:#004a99;">Current Plan: ${user.plan.toUpperCase()}</h3>
                    <p style="margin:20px 0;">
                        ${user.plan === 'trial' ? 'You are on a 7-day free trial. Upgrade to access all 8 subjects with 4,000+ questions!' : 
                          user.plan === 'pro' ? 'Pro plan active - You have access to all 8 subjects with 4,000+ questions!' :
                          user.plan === 'premium' ? 'Premium plan active - You have access to all features!' :
                          'Admin access - Full platform control'}
                    </p>
                    
                    <div style="margin:30px 0;">
                        <h4>Available Plans:</h4>
                        <div style="display:grid; grid-template-columns:repeat(3,1fr); gap:20px; margin-top:20px;">
                            ${Object.entries(PLANS).map(([key, plan]) => `
                                <div style="border:1px solid #ddd; padding:20px; border-radius:10px; ${user.plan === key ? 'border:2px solid #004a99;' : ''}">
                                    <h4>${plan.name}</h4>
                                    <p style="font-size:1.5rem; font-weight:bold;">₦${plan.price}<span style="font-size:0.9rem;">/${plan.period}</span></p>
                                    <button onclick="showPaymentModal('${key}')" class="btn btn-sm btn-primary" ${user.plan === key ? 'disabled' : ''}>${user.plan === key ? 'Current' : 'Upgrade'}</button>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <h4 style="margin-top:40px;">Transaction History</h4>
                    <table style="width:100%; margin-top:20px;">
                        <tr style="background:#f8f9fa;">
                            <th style="padding:10px;">Date</th>
                            <th>Plan</th>
                            <th>Amount</th>
                            <th>Status</th>
                        </tr>
                        ${APP_STATE.transactions.filter(t => t.user === user.name).map(t => `
                            <tr>
                                <td style="padding:10px;">${t.date}</td>
                                <td>${t.plan}</td>
                                <td>₦${t.amount}</td>
                                <td><span class="status-badge status-active">${t.status}</span></td>
                            </tr>
                        `).join('')}
                        ${APP_STATE.transactions.filter(t => t.user === user.name).length === 0 ? 
                            '<tr><td colspan="4" style="text-align:center; padding:20px;">No transactions yet</td></tr>' : ''}
                    </table>
                </div>
            `;
        }

        // =============== ANALYTICS FUNCTIONS ===============
        function loadAnalytics() {
            const user = APP_STATE.currentUser;
            const accuracy = user.questionsAttempted > 0 
                ? Math.round((user.correctAnswers / user.questionsAttempted) * 100) 
                : 0;
            
            document.getElementById('analyticsContent').innerHTML = `
                <div style="display:grid; grid-template-columns:repeat(2,1fr); gap:20px;">
                    <div style="background:white; padding:25px; border-radius:15px;">
                        <h3>Performance Overview</h3>
                        <div style="margin-top:20px;">
                            <p>Questions Attempted: <strong>${user.questionsAttempted}</strong></p>
                            <div style="height:10px; background:#eee; margin:10px 0;">
                                <div style="width:${Math.min(user.questionsAttempted/10,100)}%; height:100%; background:#004a99;"></div>
                            </div>
                            <p>Correct Answers: <strong>${user.correctAnswers}</strong></p>
                            <div style="height:10px; background:#eee; margin:10px 0;">
                                <div style="width:${accuracy}%; height:100%; background:#28a745;"></div>
                            </div>
                            <p>Accuracy: <strong>${accuracy}%</strong></p>
                            <p>Total Score: <strong>${user.totalScore}</strong></p>
                            <p>Current Streak: <strong>${user.streak} days</strong></p>
                        </div>
                    </div>
                    <div style="background:white; padding:25px; border-radius:15px;">
                        <h3>Subject Performance</h3>
                        <div style="margin-top:20px;">
                            ${Object.keys(subjectNames).map(s => `
                                <div style="margin:10px 0;">
                                    <span>${subjectNames[s]}</span>
                                    <span style="float:right;">${Math.floor(Math.random() * 30 + 50)}%</span>
                                    <div style="height:8px; background:#eee; margin-top:5px;">
                                        <div style="width:${Math.floor(Math.random() * 50 + 50)}%; height:100%; background:#004a99;"></div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
        }

        // =============== ADMIN FUNCTIONS ===============
        function loadAdminDashboard() {
            const activeSubs = APP_STATE.subscriptions.filter(s => s.status === 'active').length;
            const totalRevenue = APP_STATE.transactions
                .filter(t => t.status === 'success')
                .reduce((sum, t) => sum + t.amount, 0);
            
            document.getElementById('adminStats').innerHTML = `
                <div class="admin-stat-card">
                    <div class="stat-icon"><i class="fas fa-users"></i></div>
                    <div><h3>${APP_STATE.users.length}</h3><p>Total Users</p></div>
                </div>
                <div class="admin-stat-card">
                    <div class="stat-icon"><i class="fas fa-crown"></i></div>
                    <div><h3>${activeSubs}</h3><p>Active Subs</p></div>
                </div>
                <div class="admin-stat-card">
                    <div class="stat-icon"><i class="fas fa-naira-sign"></i></div>
                    <div><h3>₦${totalRevenue.toLocaleString()}</h3><p>Revenue</p></div>
                </div>
                <div class="admin-stat-card">
                    <div class="stat-icon"><i class="fas fa-book"></i></div>
                    <div><h3>8</h3><p>Premium Subjects</p></div>
                </div>
            `;
            
            switchAdminTab('users');
        }

        function switchAdminTab(tab) {
            document.querySelectorAll('.admin-tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            
            let html = '';
            switch(tab) {
                case 'users':
                    html = `
                        <table class="admin-table">
                            <tr><th>ID</th><th>Name</th><th>Email</th><th>Plan</th><th>Questions</th><th>Joined</th></tr>
                            ${APP_STATE.users.map(u => `
                                <tr>
                                    <td>#${u.id}</td>
                                    <td>${u.name}</td>
                                    <td>${u.email}</td>
                                    <td><span class="status-badge ${u.plan === 'trial' ? 'status-expired' : 'status-active'}">${u.plan}</span></td>
                                    <td>${u.questionsAttempted}</td>
                                    <td>${u.joinDate}</td>
                                </tr>
                            `).join('')}
                        </table>
                    `;
                    break;
                case 'subscriptions':
                    html = `
                        <table class="admin-table">
                            <tr><th>ID</th><th>User</th><th>Plan</th><th>Start</th><th>End</th><th>Status</th></tr>
                            ${APP_STATE.subscriptions.map(s => `
                                <tr>
                                    <td>${s.id}</td>
                                    <td>${s.user}</td>
                                    <td>${s.plan}</td>
                                    <td>${s.start}</td>
                                    <td>${s.end}</td>
                                    <td><span class="status-badge status-active">${s.status}</span></td>
                                </tr>
                            `).join('')}
                            ${APP_STATE.subscriptions.length === 0 ? 
                                '<tr><td colspan="6" style="text-align:center; padding:20px;">No subscriptions yet</td></tr>' : ''}
                        </table>
                    `;
                    break;
                case 'transactions':
                    html = `
                        <table class="admin-table">
                            <tr><th>ID</th><th>User</th><th>Plan</th><th>Amount</th><th>Date</th><th>Status</th></tr>
                            ${APP_STATE.transactions.map(t => `
                                <tr>
                                    <td>${t.id}</td>
                                    <td>${t.user}</td>
                                    <td>${t.plan}</td>
                                    <td>₦${t.amount}</td>
                                    <td>${t.date}</td>
                                    <td><span class="status-badge ${t.status === 'success' ? 'status-active' : 'status-expired'}">${t.status}</span></td>
                                </tr>
                            `).join('')}
                            ${APP_STATE.transactions.length === 0 ? 
                                '<tr><td colspan="6" style="text-align:center; padding:20px;">No transactions yet</td></tr>' : ''}
                        </table>
                    `;
                    break;
            }
            document.getElementById('adminContent').innerHTML = html;
        }

        // =============== UTILITY FUNCTIONS ===============
        function toggleUserMenu() {
            if (confirm('Logout?')) {
                logout();
            }
        }

        // Check for saved login
        window.onload = function() {
            loadMarketingPlans();
            const savedUser = localStorage.getItem('jambUser');
            if (savedUser) {
                APP_STATE.currentUser = JSON.parse(savedUser);
                document.getElementById('marketing-site').style.display = 'none';
                document.getElementById('app-container').classList.add('active');
                document.getElementById('displayName').textContent = APP_STATE.currentUser.name;
                document.getElementById('displayPlan').textContent = APP_STATE.currentUser.plan.toUpperCase();
                loadSubjects(); // Loads all 8 subjects (locked for non-premium)
                updateUserStats();
                
                if (APP_STATE.currentUser.plan === 'admin') {
                    document.getElementById('adminNavBtn').style.display = 'block';
                }
            }
        };
    </script>
</body>
</html> 
