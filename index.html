<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes, viewport-fit=cover">
    <title>JAMB Mastermind 3000 | All 16 Subjects</title>
    <!-- Font Awesome 6 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* RESET & BASE - Optimized for mobile */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: #0b2b44;
            min-height: 100vh;
            padding: 8px;
            margin: 0;
        }
        
        .app-container {
            max-width: 100%;
            background: white;
            border-radius: 24px 24px 16px 16px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        /* HEADER - Mobile first */
        .header {
            background: #0b4a8f;
            color: white;
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 8px;
            flex-wrap: wrap;
        }
        
        .brand h2 {
            font-size: 1.2rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 4px;
            white-space: nowrap;
        }
        
        .brand h2 i { color: #fcd34d; font-size: 1.1rem; }
        
        .free-counter {
            background: #f59e0b;
            color: #1e293b;
            padding: 4px 10px;
            border-radius: 40px;
            font-size: 0.8rem;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 4px;
            white-space: nowrap;
        }
        
        .study-timer {
            background: rgba(0,0,0,0.2);
            padding: 4px 10px;
            border-radius: 40px;
            font-size: 0.8rem;
            font-weight: 500;
            margin-left: auto;
            white-space: nowrap;
        }
        
        .user-avatar {
            width: 36px;
            height: 36px;
            background: #fcd34d;
            color: #1e293b;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            border: 2px solid white;
            flex-shrink: 0;
        }
        
        /* TABS */
        .dashboard-tabs {
            display: flex;
            background: white;
            border-bottom: 1px solid #e2e8f0;
            overflow-x: auto;
            scrollbar-width: none;
        }
        
        .dashboard-tabs::-webkit-scrollbar {
            display: none;
        }
        
        .tab-btn {
            padding: 12px 16px;
            background: transparent;
            border: none;
            font-weight: 600;
            color: #64748b;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 6px;
            white-space: nowrap;
            border-bottom: 3px solid transparent;
            flex: 0 0 auto;
        }
        
        .tab-btn.active {
            color: #0b4a8f;
            border-bottom-color: #0b4a8f;
        }
        
        .tab-btn i { font-size: 1rem; }
        
        /* SUBJECT GRID - 2 columns on mobile, more on larger screens */
        .grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            padding: 16px;
        }
        
        @media (min-width: 480px) {
            .grid { grid-template-columns: repeat(3, 1fr); }
        }
        
        @media (min-width: 640px) {
            .grid { grid-template-columns: repeat(4, 1fr); }
        }
        
        .card {
            background: white;
            padding: 16px 6px;
            border-radius: 16px;
            text-align: center;
            border: 1px solid #e2e8f0;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            transition: 0.1s;
        }
        
        .card:active {
            background: #f8fafc;
            transform: scale(0.98);
        }
        
        .card i {
            font-size: 1.8rem;
            color: #0b4a8f;
        }
        
        .card p {
            font-weight: 600;
            font-size: 0.85rem;
            color: #1e293b;
        }
        
        .premium-badge {
            background: linear-gradient(135deg, #6366f1, #a855f7);
            color: white;
            font-size: 0.55rem;
            padding: 2px 6px;
            border-radius: 30px;
            text-transform: uppercase;
            display: inline-block;
        }
        
        /* QUIZ SECTION */
        .quiz-header {
            padding: 16px;
            background: white;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .subject-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: #0b4a8f;
            margin-bottom: 8px;
            display: block;
        }
        
        .progress-container {
            margin: 8px 0;
        }
        
        .progress-bar {
            height: 6px;
            background: #e2e8f0;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: #00a86b;
            width: 0%;
            transition: width 0.2s;
        }
        
        .question-box {
            background: #f1f5f9;
            margin: 16px;
            padding: 20px;
            border-radius: 20px;
            border-left: 4px solid #0b4a8f;
            font-size: 1rem;
            font-weight: 600;
            line-height: 1.5;
        }
        
        .options-container {
            padding: 0 16px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .option {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 30px;
            padding: 14px 16px;
            font-size: 0.95rem;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            width: 100%;
        }
        
        .option:active {
            background: #f0f9ff;
            border-color: #0b4a8f;
        }
        
        .option-letter {
            background: #0b4a8f;
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.9rem;
            flex-shrink: 0;
        }
        
        .option.selected {
            background: #0b4a8f;
            color: white;
            border-color: #0b4a8f;
        }
        
        .option.selected .option-letter {
            background: white;
            color: #0b4a8f;
        }
        
        .option.correct {
            background: #00a86b;
            color: white;
            border-color: #00a86b;
        }
        
        .option.correct .option-letter {
            background: white;
            color: #00a86b;
        }
        
        .option.wrong {
            background: #e53e3e;
            color: white;
            border-color: #e53e3e;
        }
        
        .option.wrong .option-letter {
            background: white;
            color: #e53e3e;
        }
        
        /* BUTTONS */
        .btn {
            padding: 12px 20px;
            border-radius: 40px;
            border: none;
            font-weight: 600;
            font-size: 0.95rem;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            cursor: pointer;
            width: 100%;
        }
        
        .btn-primary {
            background: #0b4a8f;
            color: white;
        }
        
        .btn-primary:active {
            background: #073669;
        }
        
        .btn-premium {
            background: linear-gradient(135deg, #6366f1, #a855f7);
            color: white;
        }
        
        .button-container {
            display: flex;
            gap: 10px;
            padding: 16px;
        }
        
        /* PAYMENT WALL */
        .payment-wall {
            background: rgba(0,0,0,0.02);
            border: 2px dashed #0b4a8f;
            border-radius: 24px;
            padding: 30px 16px;
            text-align: center;
            margin: 16px;
        }
        
        .payment-wall i {
            font-size: 2.5rem;
            color: #0b4a8f;
            margin-bottom: 10px;
        }
        
        /* RESULTS */
        .results-container {
            padding: 30px 16px;
            text-align: center;
        }
        
        .score-circle {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            background: conic-gradient(#00a86b 0deg, #e2e8f0 0deg);
            margin: 20px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.2rem;
            font-weight: 700;
            color: #0b4a8f;
            border: 6px solid white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        /* UTILITY CLASSES */
        .hidden { display: none !important; }
        
        /* FOOTER */
        .footer {
            background: #f1f5f9;
            padding: 16px;
            text-align: center;
            font-size: 0.8rem;
            color: #64748b;
        }
        
        /* MOCK SUBJECTS GRID */
        .mock-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 16px 0;
        }
        
        .mock-item {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            padding: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .mock-item input {
            width: 18px;
            height: 18px;
        }
    </style>
</head>
<body>
<div class="app-container">
    <!-- HEADER -->
    <div class="header">
        <div class="brand">
            <h2><i class="fas fa-graduation-cap"></i> JAMB 3000</h2>
        </div>
        <div class="free-counter" id="freeCounter">
            <i class="fas fa-gift"></i> <span id="freeCount">10</span>/10
        </div>
        <div class="study-timer" id="sessionTimer">
            <i class="far fa-clock"></i> 00:00
        </div>
        <div class="user-avatar" onclick="toggleMenu()">ðŸŽ“</div>
    </div>
    
    <!-- TABS -->
    <div class="dashboard-tabs">
        <button class="tab-btn active" onclick="switchTab('practice')"><i class="fas fa-pencil-alt"></i> Practice</button>
        <button class="tab-btn" onclick="switchTab('mock')"><i class="fas fa-random"></i> Mock Exam</button>
        <button class="tab-btn" onclick="switchTab('premium')"><i class="fas fa-crown"></i> Premium</button>
    </div>
    
    <!-- PRACTICE TAB -->
    <div id="practiceTab">
        <div style="padding: 16px;">
            <input type="text" id="subjectSearch" placeholder="ðŸ” Search 16 subjects..." style="width:100%; padding:12px 16px; border-radius:40px; border:1px solid #e2e8f0; font-size:0.95rem;">
        </div>
        <div id="subjectsGrid" class="grid"></div>
        <div style="padding: 0 16px 20px;">
            <button class="btn btn-primary" onclick="quickDemo()"><i class="fas fa-bolt"></i> Try 10 Free Questions</button>
        </div>
    </div>
    
    <!-- MOCK TAB -->
    <div id="mockTab" class="hidden">
        <div style="padding: 20px;">
            <h3 style="margin-bottom: 15px;">Create Mock Exam</h3>
            
            <div style="margin-bottom: 20px;">
                <div style="font-weight: 600; margin-bottom: 8px;">Duration:</div>
                <label style="display:block; margin:8px 0;"><input type="radio" name="duration" value="120" checked> 2 hours (JAMB)</label>
                <label style="display:block; margin:8px 0;"><input type="radio" name="duration" value="90"> 1.5 hours</label>
                <label style="display:block; margin:8px 0;"><input type="radio" name="duration" value="60"> 1 hour</label>
            </div>
            
            <div style="margin-bottom: 20px;">
                <div style="font-weight: 600; margin-bottom: 8px;">Questions:</div>
                <label style="display:block; margin:8px 0;"><input type="radio" name="qCount" value="180" checked> 180 (full)</label>
                <label style="display:block; margin:8px 0;"><input type="radio" name="qCount" value="120"> 120</label>
                <label style="display:block; margin:8px 0;"><input type="radio" name="qCount" value="60"> 60</label>
            </div>
            
            <div style="font-weight: 600; margin: 15px 0 10px;">Select Subjects:</div>
            <div id="mockSubjectsList" class="mock-grid"></div>
            
            <button class="btn btn-primary" onclick="startMockExam()" style="margin-top:20px;">
                <i class="fas fa-shuffle"></i> Generate Mock Exam
            </button>
        </div>
    </div>
    
    <!-- PREMIUM TAB -->
    <div id="premiumTab" class="hidden">
        <div style="padding: 20px; text-align:center;">
            <i class="fas fa-crown" style="font-size: 3rem; color: #a855f7; margin: 20px 0;"></i>
            <h2>Upgrade to Premium</h2>
            <p style="margin: 15px 0; color: #64748b;">Get unlimited access to all 3000+ questions across 16 subjects</p>
            
            <div style="background: #f0fdf9; border: 2px solid #00a86b; border-radius: 24px; padding: 20px; margin: 20px 0;">
                <h3 style="font-size: 1.4rem;">Pro Plan</h3>
                <div style="font-size: 2.2rem; font-weight: 700; color: #0b4a8f; margin: 10px 0;">â‚¦5,000</div>
                <p style="margin-bottom: 15px;">per month</p>
                <ul style="text-align: left; list-style: none; margin: 15px 0;">
                    <li style="margin: 8px 0;">âœ… All 16 subjects</li>
                    <li style="margin: 8px 0;">âœ… 3500+ questions</li>
                    <li style="margin: 8px 0;">âœ… Unlimited mock exams</li>
                    <li style="margin: 8px 0;">âœ… Video solutions</li>
                </ul>
                <a href="https://paystack.com/pay/jamb-pro" class="btn btn-premium">Pay with Paystack</a>
            </div>
            
            <div style="background: #f5f3ff; border: 2px solid #a78bfa; border-radius: 24px; padding: 20px;">
                <h3 style="font-size: 1.4rem;">Basic Plan</h3>
                <div style="font-size: 2.2rem; font-weight: 700; color: #0b4a8f; margin: 10px 0;">â‚¦2,500</div>
                <p style="margin-bottom: 15px;">per month</p>
                <ul style="text-align: left; list-style: none; margin: 15px 0;">
                    <li style="margin: 8px 0;">âœ… All 16 subjects</li>
                    <li style="margin: 8px 0;">âœ… 3000+ questions</li>
                    <li style="margin: 8px 0;">âœ… 5 mock exams/month</li>
                </ul>
                <a href="https://flutterwave.com/pay/jamb-basic" class="btn btn-primary">Pay with Flutterwave</a>
            </div>
        </div>
    </div>
    
    <!-- QUIZ SECTION -->
    <div id="quizSection" class="hidden">
        <div class="quiz-header">
            <span class="subject-title" id="currentSubjectName">Mathematics</span>
            <div class="progress-container">
                <div style="display:flex; justify-content:space-between; margin-bottom:5px;">
                    <span id="qCounter">1/50</span>
                    <span id="scoreDisplay">0%</span>
                </div>
                <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
            </div>
        </div>
        
        <div id="paymentWall" class="payment-wall hidden">
            <i class="fas fa-lock"></i>
            <h3>10 Free Questions Used</h3>
            <p style="margin: 10px 0 20px;">Upgrade to access all 3000+ questions</p>
            <button class="btn btn-premium" onclick="showPremium()">Upgrade Now</button>
        </div>
        
        <div class="question-box" id="questionText">Loading...</div>
        <div class="options-container" id="optionsList"></div>
        
        <div class="button-container">
            <button class="btn btn-primary" onclick="prevQuestion()">Previous</button>
            <button class="btn btn-primary" onclick="nextQuestion()">Next</button>
        </div>
    </div>
    
    <!-- RESULTS SECTION -->
    <div id="resultsSection" class="hidden">
        <div class="results-container">
            <i class="fas fa-trophy" style="font-size: 3rem; color: #fbbf24;"></i>
            <h2 style="margin: 15px 0;">Practice Complete!</h2>
            <div class="score-circle" id="scoreCircle">0%</div>
            <div style="display: flex; gap: 10px; margin-top: 20px;">
                <button class="btn btn-primary" onclick="restartQuiz()">Restart</button>
                <button class="btn btn-primary" onclick="showPractice()">Dashboard</button>
            </div>
        </div>
    </div>
    
    <!-- FOOTER -->
    <div class="footer">
        <p>Â© 2026 JAMB Mastermind 3000 | 16 Subjects | 3000+ Questions</p>
    </div>
</div>

<script>
    // ========== COMPLETE VERSION - ALL 16 SUBJECTS ==========
    
    // App State
    let freeQuestionsUsed = 0;
    const MAX_FREE = 10;
    let hasPaid = false;
    let currentSubject = 'math';
    let currentQIndex = 0;
    let userAnswers = [];
    let mockExamData = null;
    let currentQuestions = [];
    
    // Load saved state
    try {
        const saved = localStorage.getItem('jamb_free_used');
        if (saved) freeQuestionsUsed = parseInt(saved);
        hasPaid = localStorage.getItem('jamb_paid') === 'true';
    } catch(e) {}
    
    // ===== ALL 16 SUBJECTS =====
    const QUESTION_BANK = {
        math: { name: 'Mathematics', icon: 'fa-calculator', total: 85 },
        english: { name: 'English', icon: 'fa-book', total: 90 },
        physics: { name: 'Physics', icon: 'fa-atom', total: 75 },
        chemistry: { name: 'Chemistry', icon: 'fa-flask', total: 80 },
        biology: { name: 'Biology', icon: 'fa-dna', total: 85 },
        history: { name: 'History', icon: 'fa-landmark', total: 120 },
        geography: { name: 'Geography', icon: 'fa-globe', total: 90 },
        crs: { name: 'CRS', icon: 'fa-church', total: 100 },
        islamic: { name: 'Islamic Studies', icon: 'fa-mosque', total: 95 },
        music: { name: 'Music', icon: 'fa-music', total: 165 },
        government: { name: 'Government', icon: 'fa-gavel', total: 130 },
        accounting: { name: 'Accounting', icon: 'fa-coins', total: 110 },
        literature: { name: 'Literature', icon: 'fa-feather', total: 115 },
        commerce: { name: 'Commerce', icon: 'fa-store', total: 100 },
        agricscience: { name: 'Agric Science', icon: 'fa-seedling', total: 130 },
        economics: { name: 'Economics', icon: 'fa-chart-line', total: 125 }
    };
    
    // Generate questions for each subject
    for (let key in QUESTION_BANK) {
        let questions = [];
        for (let i = 1; i <= QUESTION_BANK[key].total; i++) {
            questions.push({
                id: i,
                question: `${QUESTION_BANK[key].name} Question ${i}: Sample question for practice?`,
                options: ['Option A (Correct Answer)', 'Option B', 'Option C', 'Option D'],
                correct: 0,
                answer: 'Option A (Correct Answer)',
                explanation: 'This is the correct answer because...',
                tip: 'Remember to study this topic carefully.'
            });
        }
        QUESTION_BANK[key].questions = questions;
    }
    
    // DOM Elements
    const practiceTab = document.getElementById('practiceTab');
    const mockTab = document.getElementById('mockTab');
    const premiumTab = document.getElementById('premiumTab');
    const quizSection = document.getElementById('quizSection');
    const resultsSection = document.getElementById('resultsSection');
    const subjectsGrid = document.getElementById('subjectsGrid');
    const freeCountSpan = document.getElementById('freeCount');
    const paymentWall = document.getElementById('paymentWall');
    const questionText = document.getElementById('questionText');
    const optionsList = document.getElementById('optionsList');
    const qCounter = document.getElementById('qCounter');
    const progressFill = document.getElementById('progressFill');
    const scoreDisplay = document.getElementById('scoreDisplay');
    
    // Update free counter
    function updateFreeCounter() {
        const remaining = Math.max(0, MAX_FREE - freeQuestionsUsed);
        freeCountSpan.textContent = remaining;
        if (hasPaid) {
            document.querySelector('.free-counter').style.display = 'none';
        }
    }
    
    // Check if can access
    function canAccess() {
        return hasPaid || freeQuestionsUsed < MAX_FREE;
    }
    
    // Render subjects grid - ALL 16 SUBJECTS
    function renderSubjects() {
        let html = '';
        for (let key in QUESTION_BANK) {
            html += `<div class="card" onclick="startPractice('${key}')">
                <i class="fas ${QUESTION_BANK[key].icon}"></i>
                <p>${QUESTION_BANK[key].name}</p>
                <span class="premium-badge">PREMIUM</span>
            </div>`;
        }
        subjectsGrid.innerHTML = html;
    }
    
    // Render mock subjects
    function renderMockSubjects() {
        let html = '';
        for (let key in QUESTION_BANK) {
            html += `<div class="mock-item">
                <input type="checkbox" value="${key}" ${!hasPaid && QUESTION_BANK[key].isPremium ? '' : 'checked'}>
                <span>${QUESTION_BANK[key].name}</span>
            </div>`;
        }
        document.getElementById('mockSubjectsList').innerHTML = html;
    }
    
    // Start practice
    window.startPractice = function(subj) {
        if (!hasPaid && freeQuestionsUsed >= MAX_FREE) {
            showPremium();
            return;
        }
        
        currentSubject = subj;
        currentQIndex = 0;
        userAnswers = [];
        currentQuestions = QUESTION_BANK[subj].questions;
        
        practiceTab.classList.add('hidden');
        mockTab.classList.add('hidden');
        premiumTab.classList.add('hidden');
        quizSection.classList.remove('hidden');
        resultsSection.classList.add('hidden');
        
        document.getElementById('currentSubjectName').textContent = QUESTION_BANK[subj].name;
        loadQuestion();
    };
    
    // Load question
    function loadQuestion() {
        if (!canAccess()) {
            paymentWall.classList.remove('hidden');
            questionText.classList.add('hidden');
            optionsList.classList.add('hidden');
            return;
        }
        
        paymentWall.classList.add('hidden');
        questionText.classList.remove('hidden');
        optionsList.classList.remove('hidden');
        
        const q = currentQuestions[currentQIndex];
        questionText.innerHTML = `${currentQIndex+1}. ${q.question}`;
        qCounter.textContent = `${currentQIndex+1}/${currentQuestions.length}`;
        
        let optsHtml = '';
        q.options.forEach((opt, idx) => {
            const isSelected = userAnswers[currentQIndex]?.selected === idx;
            const isCorrect = userAnswers[currentQIndex]?.correct && idx === q.correct;
            const isWrong = userAnswers[currentQIndex] && !userAnswers[currentQIndex].correct && idx === userAnswers[currentQIndex].selected;
            
            let extraClass = '';
            if (isSelected) extraClass = ' selected';
            if (isCorrect) extraClass = ' correct';
            if (isWrong) extraClass = ' wrong';
            
            optsHtml += `<div class="option${extraClass}" onclick="selectOption(${idx}, ${q.correct})">
                <span class="option-letter">${String.fromCharCode(65+idx)}</span>
                ${opt}
            </div>`;
        });
        optionsList.innerHTML = optsHtml;
        
        updateProgress();
    }
    
    // Select option
    window.selectOption = function(idx, correctIdx) {
        if (userAnswers[currentQIndex]) return;
        
        if (!hasPaid && freeQuestionsUsed < MAX_FREE) {
            freeQuestionsUsed++;
            try { localStorage.setItem('jamb_free_used', freeQuestionsUsed); } catch(e) {}
            updateFreeCounter();
        }
        
        const isCorrect = idx === correctIdx;
        userAnswers[currentQIndex] = { selected: idx, correct: isCorrect };
        
        // Reload to show selection
        loadQuestion();
        updateProgress();
    };
    
    window.nextQuestion = function() {
        if (currentQIndex < currentQuestions.length - 1) {
            currentQIndex++;
            loadQuestion();
        } else {
            finishQuiz();
        }
    };
    
    window.prevQuestion = function() {
        if (currentQIndex > 0) {
            currentQIndex--;
            loadQuestion();
        }
    };
    
    function updateProgress() {
        const answered = userAnswers.filter(a => a).length;
        progressFill.style.width = (answered/currentQuestions.length*100) + '%';
        
        const correct = userAnswers.filter(a => a && a.correct).length;
        const pct = answered > 0 ? Math.round((correct/answered)*100) : 0;
        scoreDisplay.textContent = `Score: ${pct}%`;
    }
    
    function finishQuiz() {
        const correct = userAnswers.filter(a => a && a.correct).length;
        const total = userAnswers.length;
        const pct = total > 0 ? Math.round((correct/total)*100) : 0;
        
        quizSection.classList.add('hidden');
        resultsSection.classList.remove('hidden');
        document.getElementById('scoreCircle').textContent = pct + '%';
    }
    
    window.restartQuiz = function() {
        startPractice(currentSubject);
    };
    
    window.showPractice = function() {
        practiceTab.classList.remove('hidden');
        mockTab.classList.add('hidden');
        premiumTab.classList.add('hidden');
        quizSection.classList.add('hidden');
        resultsSection.classList.add('hidden');
    };
    
    window.showPremium = function() {
        practiceTab.classList.add('hidden');
        mockTab.classList.add('hidden');
        premiumTab.classList.remove('hidden');
        quizSection.classList.add('hidden');
        resultsSection.classList.add('hidden');
    };
    
    window.switchTab = function(tab) {
        document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
        event.target.classList.add('active');
        
        if (tab === 'practice') {
            practiceTab.classList.remove('hidden');
            mockTab.classList.add('hidden');
            premiumTab.classList.add('hidden');
        } else if (tab === 'mock') {
            practiceTab.classList.add('hidden');
            mockTab.classList.remove('hidden');
            premiumTab.classList.add('hidden');
            renderMockSubjects();
        } else if (tab === 'premium') {
            practiceTab.classList.add('hidden');
            mockTab.classList.add('hidden');
            premiumTab.classList.remove('hidden');
        }
        
        quizSection.classList.add('hidden');
        resultsSection.classList.add('hidden');
    };
    
    window.startMockExam = function() {
        const checkboxes = document.querySelectorAll('#mockSubjectsList input:checked');
        const selected = Array.from(checkboxes).map(cb => cb.value);
        
        if (selected.length === 0) {
            alert('Please select at least one subject');
            return;
        }
        
        alert(`Mock exam will be generated from ${selected.length} subjects with random questions.`);
        // In a full implementation, this would create a random exam
    };
    
    window.quickDemo = function() {
        startPractice('math');
    };
    
    window.toggleMenu = function() {
        alert('Profile: ' + (hasPaid ? 'Premium User' : 'Free User') + '\nQuestions used: ' + freeQuestionsUsed + '/10');
    };
    
    // Search functionality
    document.getElementById('subjectSearch').addEventListener('input', function(e) {
        const search = e.target.value.toLowerCase();
        let html = '';
        
        for (let key in QUESTION_BANK) {
            if (QUESTION_BANK[key].name.toLowerCase().includes(search) || search === '') {
                html += `<div class="card" onclick="startPractice('${key}')">
                    <i class="fas ${QUESTION_BANK[key].icon}"></i>
                    <p>${QUESTION_BANK[key].name}</p>
                    <span class="premium-badge">PREMIUM</span>
                </div>`;
            }
        }
        subjectsGrid.innerHTML = html || '<div style="grid-column:1/-1; text-align:center; padding:30px;">No subjects found</div>';
    });
    
    // Session timer
    let seconds = 0;
    setInterval(() => {
        seconds++;
        const mins = Math.floor(seconds / 60);
        const secs = seconds % 60;
        document.getElementById('sessionTimer').innerHTML = 
            `<i class="far fa-clock"></i> ${mins.toString().padStart(2,'0')}:${secs.toString().padStart(2,'0')}`;
    }, 1000);
    
    // Initialize
    renderSubjects();
    renderMockSubjects();
    updateFreeCounter();
    
    if (hasPaid) {
        document.querySelector('.free-counter').style.display = 'none';
    }
    
    // Prevent zoom on double tap for iOS
    document.addEventListener('touchstart', function(){}, {passive: true});
</script>
</body>
</html>
